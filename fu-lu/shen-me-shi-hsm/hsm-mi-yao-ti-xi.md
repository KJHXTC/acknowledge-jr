# HSM 密钥体系

HSM 之所以安全就在于对于**密钥**的保护策略上是软算法是远不能及的.

在各种 密钥管理规范, 至少三层保护

> TODO 密钥规范文档



这里由于只接触过雷卡密钥体系和金卡密钥体系,这里也只说这两种

> 对于指令集不做多说,但对于密钥体系,发表下自己的观点
>
> 1. 无论是那种体系的加密机在逻辑上都属于三层密钥体系
>
>    即 设备主密钥 是基础, 应用主密钥 是核心, 工作密钥是主干 ,这种三层密钥体制保证密钥的安全
>
> 2. 金卡体系简单,只能算雷卡体系的逻辑上的子集
>    * 金卡体系在设计上很简单, 只有1个设备主密钥作为根密钥,存储在设备内部,用于保护\[即加密\]其他存储在设备内部的应用主密钥, 所有工作密钥都直接被对应应用主密钥保护后,存放在业务系统
>
>      即\(设备根密钥, 应用主密钥, 工作密钥\); 
>
>      * 在进行密钥交换时,仍是 应用主密钥保护工作密钥
>
>    * 雷卡体系则很复杂, 虽然对外也是 只有一个设备主密钥,但会对这个根密钥进行离散,生产许多对不同用途的`子密钥` 然后根据不同用途 将这些`子密钥` 作为对应的根密钥用于加密 所有的 `应用主密钥`和 `工作密钥` , 这种保护后的密钥统称 `本地密钥` ,然后根据密钥用途进行使用限制, 这是雷卡体系的一大特点,也是优点.  这种层次上 可以理解为两次密钥\(设备根密钥, 本地密钥\),也可理解为三层密钥体系\(设备根密钥, 子密钥, 本密钥\); 但在进行密钥交换时,则会凸显出三层密钥的含义 \(`设备根密钥`, `本地密钥(应用主密钥)`, `本地密钥(工作密钥)`\) ---&gt; \(`设备根密钥`, `本地密钥(应用主密钥)`, `工作密钥`\)  即 `本地密钥(工作密钥)`由 `本地密钥`保护转换为了 `应用主密钥` 保护
>
> 雷卡体系在理解上难度远高于金卡, 但奇独特的加密方式在安全性和理论的保护层级上却远远高于金卡体系.  至于市场的问题,单就`互联网真理`我觉得简单的往往都比复杂的容易推广和占有,但对于雷卡的密钥体系,我不得不说还是几十年前的那些国外设计者更厉害.



